<!DOCTYPE html>
<html>
<head>
	<?php include 'html_head.php'; ?>

	<style>
	.footerWrap {
		margin-top: 0;
		background: #0b0b0d;
	}
	</style>
</head>

<body>
	<?php include 'topmenu.php'; ?>

	<div id="canvas"></div>

	<div class="about-bannerWrap">
		<div class="head-area text-center">
			<div class="en">about us</div>
			<div class="ch">關於我們</div>
		</div>

		<div class="pic"></div>

		<div class="scroll-down scrolldown"><img src="images/about-scroll-down.svg"></div>
	</div>

	<div class="aboutStory">
		<div class="item-area text-right">
			<div class="head-area text-left">
				<div class="en">about<br>us</div>
				<div class="content">
					「德匠名㕑股份有限公司」自1985年成立，從事進口頂級廚具與經營自有品牌廚具，旗下擁有「德國原裝進口品牌 LEICHT 廚具」，「日本原裝進口品牌 Cleanup 廚具」，自有品牌「Dr.DESIGN 精品廚具」。<br>
 					<br>
					秉持『 智慧專業、共創價值 』的經營理念，以「誠信」為發展根本，並以美學且專業的知識，為消費者量身訂制高品質的商品，致力於提供顧客完善的規劃服務。<br>
					<br>
					走過30多個年頭的德匠，始終如一地專注在廚房領域，同時力求踏出創新與差異化的腳步，與時俱進新型態的生活模式，並推出門市料理體驗、烘培課程及家電教學等服務，希望能為顧客帶來更美好的家居生活。
				</div>
			</div>

			<div class="pic">
				<img src="images/about-story-2.jpg" class="show-for-large" data-sampler="image" crossorigin="anonymous">
			</div>
		</div>

		<div class="star show-for-large">
			<div class="en">our story</div>
			<div class="ch">歷史沿革</div>
			<div class="content">
				德匠名㕑成立於1985年，秉持『 智慧專業、共創價值 』的經營理念，提供專業廚房空間規畫及完整售後服務，<br>以廚房為軸心，致力於提供顧客完善且美好的家居生活。
			</div>
		</div>
	</div>

	<div class="aboutWrap">

		<ul class="aboutYear">
			<li class="current">
				<div class="s">1985</div>
				<div class="l">1985</div>
			</li>
			<li>
				<div class="s">1993</div>
				<div class="l">1993</div>
			</li>
			<li>
				<div class="s">2005</div>
				<div class="l">2005</div>
			</li>
			<li>
				<div class="s">2010</div>
				<div class="l">2010</div>
			</li>
			<li>
				<div class="s">2011</div>
				<div class="l">2011</div>
			</li>
			<li>
				<div class="s">2017</div>
				<div class="l">2017</div>
			</li>
			<li>
				<div class="s">2018</div>
				<div class="l">2018</div>
			</li>
			<li>
				<div class="s">2020</div>
				<div class="l">2020</div>
			</li>
		</ul>

		<div class="aboutList">
			<section data-where="0">
				<div class="about-divider show-for-large">
					<div class="line"></div>
				</div>

				<div class="item">
					<div class="pic-area">
						<div class="block"></div>
						<div class="pic" style="background: url(images/about-1.jpg) center center / cover no-repeat;"></div>
					</div>

					<div class="head-area">
						<div class="smile show-for-large"><img src="images/smile.svg"></div>
						<div class="head">
							<div class="title">設立辰瀚有限公司</div>
						</div>
						<div class="dash"><img src="images/about-dash.jpg"></div>
						<div class="content">
							設立德匠名㕑股份有限公司（原名為辰瀚有限公司）。
						</div>
					</div>
				</div>
			</section>

			<section data-where="1">
				<div class="about-divider">
					<div class="line"></div>
				</div>
					
				<div class="item">
					<div class="pic-area">
						<div class="block"></div>
						<div class="pic" style="background: url(images/about-2.jpg) center center / cover no-repeat;"></div>
					</div>

					<div class="head-area">
						<div class="smile show-for-large"><img src="images/smile.svg"></div>
						<div class="head">
							<div class="title">更名為德匠名㕑</div>
						</div>
						<div class="dash"><img src="images/about-dash.jpg"></div>
						<div class="content">
							更名為德匠名㕑股份有限公司，率先引進德國廚具，於高雄市中正路成立德國LEICHT原裝進口廚具高雄展示中心。
						</div>
					</div>
				</div>
			</section>

			<section data-where="2">
				<div class="about-divider">
					<div class="line"></div>
				</div>
					
				<div class="item">
					<div class="pic-area">
						<div class="block"></div>
						<div class="pic" style="background: url(images/about-3.jpg) center center / cover no-repeat;"></div>
					</div>

					<div class="head-area">
						<div class="smile show-for-large"><img src="images/smile.svg"></div>
						<div class="head">
							<div class="title grid-x align-middle">成立台南展示中心 
								<div class="logo"><img src="images/story-1.svg"></div>
							</div>
						</div>
						<div class="dash"><img src="images/about-dash.jpg"></div>
						<div class="content">
							台南市永華路成立德國LEICHT原裝進口廚具台南展示中心。
						</div>
					</div>
				</div>
			</section>

			<section data-where="3">
				<div class="about-divider">
					<div class="line"></div>
				</div>
					
				<div class="item">
					<div class="pic-area">
						<div class="block"></div>
						<div class="pic" style="background: url(images/about-4.jpg) center center / cover no-repeat;"></div>
					</div>

					<div class="head-area">
						<div class="smile show-for-large"><img src="images/smile.svg"></div>
						<div class="head">
							<div class="title grid-x align-middle">成立高雄展示中心 
								<div class="logo"><img src="images/story-1.svg"></div>
							</div>
						</div>
						<div class="dash"><img src="images/about-dash.jpg"></div>
						<div class="content">
							LEICHT高雄展示中心遷址至美術館明誠四路，<br>
							設立德國LEICHT高雄旗艦店。
						</div>
					</div>
				</div>
			</section>

			<section data-where="4">
				<div class="about-divider">
					<div class="line"></div>
				</div>
					
				<div class="item">
					<div class="pic-area">
						<div class="block"></div>
						<div class="pic" style="background: url(images/about-5.jpg) center center / cover no-repeat;"></div>
					</div>

					<div class="head-area">
						<div class="smile show-for-large"><img src="images/smile.svg"></div>
						<div class="head">
							<div class="title">
								<span class="show-for-large">Dr.DESIGN 自創品牌</span>
								<span class="hide-for-large">Dr.DESIGN 自創品牌</span>
							</div>
						</div>
						<div class="dash"><img src="images/about-dash.jpg"></div>
						<div class="content">
							自創品牌 Dr.DESIGN<br>
							並於高雄市中正路總公司成立精品廚具展示中心。
						</div>
					</div>
				</div>
			</section>

			<section data-where="5">
				<div class="about-divider">
					<div class="line"></div>
				</div>
					
				<div class="item">
					<div class="pic-area">
						<div class="block"></div>
						<div class="pic" style="background: url(images/about-6.jpg) center center / cover no-repeat;"></div>
					</div>

					<div class="head-area">
						<div class="smile show-for-large"><img src="images/smile.svg"></div>
						<div class="head">
							<div class="title grid-x align-middle">成立南高雄展示中心 
								<div class="logo"><img src="images/story-4.svg"></div>
							</div>
						</div>
						<div class="dash"><img src="images/about-dash.jpg"></div>
						<div class="content">
							成立日本Cleanup原裝進口廚具<br>
							於南高雄展示中心 (高雄市中正路)。
						</div>
					</div>
				</div>
			</section>

			<section data-where="6">
				<div class="about-divider">
					<div class="line"></div>
				</div>
					
				<div class="item">
					<div class="pic-area">
						<div class="block"></div>
						<div class="pic" style="background: url(images/about-7.jpg) center center / cover no-repeat;"></div>
					</div>

					<div class="head-area">
						<div class="smile show-for-large"><img src="images/smile.svg"></div>
						<div class="head">
							<div class="title grid-x align-middle">成立北高雄展示中心 
								<div class="logo"><img src="images/story-4.svg"></div>
							</div>
						</div>
						<div class="dash"><img src="images/about-dash.jpg"></div>
						<div class="content">
							成立日本Cleanup原裝進口廚具<br>
							於北高雄展示中心 (高雄市美術東三路)。
						</div>
					</div>
				</div>
			</section>

			<section data-where="7">
				<div class="about-divider">
					<div class="line"></div>
				</div>
					
				<div class="item">
					<div class="pic-area">
						<div class="block"></div>
						<div class="pic" style="background: url(images/about-8.jpg) center center / cover no-repeat;"></div>
					</div>

					<div class="head-area">
						<div class="smile show-for-large"><img src="images/smile.svg"></div>
						<div class="head">
							<div class="title grid-x align-middle">成立台南展示中心 
								<div class="logo"><img src="images/story-4.svg"></div>
							</div>
						</div>
						<div class="dash"><img src="images/about-dash.jpg"></div>
						<div class="content">
							成立日本Cleanup原裝進口廚具<br>
							於台南展示中心 (台南市東興路)。
						</div>
					</div>
				</div>
			</section>
		</div>
	</div>

	<div class="about-continue">
		<ul class="marqueeList flex-container">
			<li><img src="images/continued.svg"></li>
			<li><img src="images/continued.svg"></li>
		</ul>
	</div>

	<?php include 'footer-black.php'; ?>
</body>

<?php include 'script.php'; ?>

<script src="https://www.curtainsjs.com/build/curtains.min.js"></script>
</html>

<script>


	$(".marqueeList").each(function (i, el) {
		var $copy = $(el).contents().clone()
		$(el).append($copy)

		if (device == 'desktop') {
			var t1 = gsap.timeline();
			t1.to(el, 40, {
				x: '-50%',
				repeat: -1,
				ease: Power0.easeNone,
			})
		}else {
			var t1 = gsap.timeline();
			t1.to(el, 20, {
				x: '-200%',
				repeat: -1,
				ease: Power0.easeNone,
			})
		}
	})

	$(window).on("load", function () {

		var $where = $("[data-where]").get().reverse()

		$(window).scroll(function() {

			var scrollTop = $(this).scrollTop()

			$($where).each((i, el) => {

				var _index = el.dataset.where
				var _b = scrollTop + $(window).height() * 0.4

				if (_b > $(el).offset().top) {
					$(".aboutYear li").eq(_index).addClass("current").siblings().removeClass("current")
					return false
				}

			})

		}).trigger("scroll")


		$(".aboutYear li").on("click", function () {
			$.scrollTo( $('[data-where="'+ $(this).index() +'"]'), {
				duration: 1000,
				offset: $(window).height() * -0.05
			});
		}) 

	})

	ScrollTrigger.matchMedia({

		// 1920
		"(min-width: 1281px)": function() {
			var pc = gsap.timeline({
				scrollTrigger: {
						trigger: ".aboutYear",
						toggleActions: "play reverse play reverse",
						start: "top 250px",
						endTrigger: ".about-continue",
						end: "0 bottom",
						toggleClass: {
						targets: ".aboutYear",
						className: "is-show"
					},
					onEnterBack: () => {
						$(".aboutYear").removeClass("is-over")
					},
					onLeave: () => {
						$(".aboutYear").addClass("is-over")
					},
					// markers: {
					// 	startColor: "red",
					// 	endColor: "red",
					// 	fontSize: "12px"
					// },
				},
			})
		},

		// 1280
		"(min-width: 1025px) and (max-width: 1280px)": function() {
			var pc = gsap.timeline({
				scrollTrigger: {
						trigger: ".aboutYear",
						toggleActions: "play reverse play reverse",
						start: "top 150px",
						endTrigger: ".about-continue",
						end: "top bottom",
						toggleClass: {
						targets: ".aboutYear",
						className: "is-show"
					},
					onEnterBack: () => {
						$(".aboutYear").removeClass("is-over")
					},
					onLeave: () => {
					$	(".aboutYear").addClass("is-over")
					},
					// markers: {
					// 	startColor: "red",
					// 	endColor: "red",
					// 	fontSize: "12px"
					// },
				},
			})
		},

		// medium
		"(max-width: 1024px)": function() {
			var pc = gsap.timeline({
				scrollTrigger: {
						trigger: ".aboutYear",
						toggleActions: "play reverse play reverse",
						start: "top 80px",
						endTrigger: ".about-continue",
						end: "50px bottom",
						toggleClass: {
						targets: ".aboutYear",
						className: "is-show"
					},
					onEnterBack: () => {
						$(".aboutYear").removeClass("is-over")
					},
					onLeave: () => {
					$	(".aboutYear").addClass("is-over")
					},
					// markers: {
					// 	startColor: "red",
					// 	endColor: "red",
					// 	fontSize: "12px"
					// },
				},
			})
		},

		// all 
		"all": function() {
		// ScrollTriggers created here aren't associated with a particular media query,
		// so they persist.
		}

	}); 

	

</script>


<script>
    const vs = `
        # ifdef GL_ES
        precision mediump float;
        # endif

        // those are the mandatory attributes that the lib sets
        attribute vec3 aVertexPosition;
        attribute vec2 aTextureCoord;

        // those are mandatory uniforms that the lib sets and that contain our model view and projection matrix
        uniform mat4 uMVMatrix;
        uniform mat4 uPMatrix;

        uniform mat4 imageMatrix;

        // our time uniform
        uniform float uTime;

        // our mouse position uniform
        uniform vec2 uMousePosition;

        // our mouse strength
        uniform float uMouseStrength;

        // if you want to pass your vertex and texture coords to the fragment shader
        varying vec3 vVertexPosition;
        varying vec2 vTextureCoord;

        void main() {
            vec3 vertexPosition = aVertexPosition;

            // get the distance between our vertex and the mouse position
            float distanceFromMouse = distance(uMousePosition, vec2(vertexPosition.x, vertexPosition.y));

            // this will define how close the ripples will be from each other. The bigger the number, the more ripples you'll get
            float rippleFactor = 4.0;
            // calculate our ripple effect
            float rippleEffect = cos(rippleFactor * (distanceFromMouse - (uTime / 60.0)));

            // calculate our distortion effect
            float distortionEffect = rippleEffect * uMouseStrength;

            // apply it to our vertex position
            vertexPosition += distortionEffect / 15.0;

            gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);

            // varyings
            vTextureCoord = (imageMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
            vVertexPosition = vertexPosition;
        }
    `;

    const fs = `
        # ifdef GL_ES
        precision mediump float;
        # endif

        // get our varyings
        varying vec3 vVertexPosition;
        varying vec2 vTextureCoord;

        // our texture sampler (this is the lib default name, but it could be changed)
        uniform sampler2D image;

        void main() {
            // get our texture coords
            vec2 textureCoords = vTextureCoord;

            // apply our texture
            vec4 finalColor = texture2D(image, textureCoords);

            // fake shadows based on vertex position along Z axis
            finalColor.rgb -= clamp(-vVertexPosition.z, 0.0, 1.0);
            // fake lights based on vertex position along Z axis
            finalColor.rgb += clamp(vVertexPosition.z, 0.0, 1.0);

            // handling premultiplied alpha (useful if we were using a png with transparency)
            finalColor = vec4(finalColor.rgb * finalColor.a, finalColor.a);

            gl_FragColor = finalColor;
        }
    `;



    window.addEventListener("load", () => {

        var mousePosition = {
            x: 0,
            y: 0,
        };

        document.body.addEventListener("mousemove", function(e) {
            handleMovement(e);
        });

        document.body.addEventListener("touchmove", function(e) {
            handleMovement(e);
        });

        const planes = [];

        let planeElements = document.getElementsByClassName("plane");

        const curtains = new Curtains({
            container: "canvas",
            alpha: true,
        });

        const params = {
            vertexShader: vs,
            fragmentShader: fs,
            widthSegments: 20,
            heightSegments: 20, // we now have 20*20*6 = 2400 vertices !
            uniforms: {
                time: {
                    name: "uTime", // uniform name that will be passed to our shaders
                    type: "1f", // this means our uniform is a float
                    value: 0,
                },
                mousePosition: { // our mouse position
                    name: "uMousePosition",
                    type: "2f", // notice this is a length 2 array of floats
                    value: [mousePosition.x, mousePosition.y],
                },
                mouseStrength: { // the strength of the effect (we will attenuate it if the mouse stops moving)
                    name: "uMouseStrength", // uniform name that will be passed to our shaders
                    type: "1f", // this means our uniform is a float
                    value: 0,
                },
            }
        };



        for (let i = 0; i < planeElements.length; i++) {
            planes.push(curtains.addPlane(planeElements[i], params));
            handlePlanes(i);
        }

        function handlePlanes(index) {
            const plane = planes[index];

            plane.onReady(() => {

                plane.setPerspective(5);

            }).onRender(() => {

                plane.uniforms.time.value++;

                plane.uniforms.mouseStrength.value = Math.max(0, plane.uniforms.mouseStrength.value - 0.005);

            });
        }




        function handleMovement(e) {

            // touch event
            if (e.targetTouches) {
                mousePosition.x = e.targetTouches[0].clientX;
                mousePosition.y = e.targetTouches[0].clientY;
            }
            // mouse event
            else {
                mousePosition.x = e.clientX;
                mousePosition.y = e.clientY;
            }



            for (var i = 0; i < planes.length; i++) {
                var plane = planes[i];

                // convert our mouse/touch position to coordinates relative to the vertices of the plane
                var mouseCoords = plane.mouseToPlaneCoords(mousePosition.x, mousePosition.y);
                // update our mouse position uniform
                plane.uniforms.mousePosition.value = [mouseCoords.x, mouseCoords.y];

                // reassign mouse strength (you can try with different distanceFactor values)
                const distanceFactor = 0.5;
                plane.uniforms.mouseStrength.value = 0.4 - Math.sqrt(Math.pow(mouseCoords.x, 2) + Math.pow(mouseCoords.y, 2)) * distanceFactor;
            }
        }

    });
</script>